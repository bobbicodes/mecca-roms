(ns ^:figwheel-hooks mecca.editor
  (:require
   [reagent.core :as r]
   [re-frame.core :as rf :refer [subscribe dispatch]]
   [mecca.notation :as notation]
   [mecca.music :as music]
   [mecca.mario :as mario]))

(defn svg-paths
  ([paths]
   (svg-paths nil paths 0 0 1))
  ([attrs paths]
   (svg-paths attrs paths 0 0 1))
  ([paths x y]
   (svg-paths nil paths x y 1))
  ([paths x y scale]
   (svg-paths nil paths x y scale))
  ([attrs paths x y scale]
   (into [:g (merge attrs
              {:transform (str "scale(" scale ") translate(" x "," y ")")})]
    (for [[color path] paths]
      [:path {:stroke color :d path}]))))

(def three-quarter-time-button
  {:off [["#000000" "M0 0h14M0 1h1M13 1h1M0 2h1M3 2h3M13 2h1M0 3h1M5 3h1M13 3h1M0 4h1M3 4h3M9 4h1M13 4h1M0 5h1M5 5h1M8 5h1M13 5h1M0 6h1M3 6h3M7 6h1M13 6h1M0 7h1M6 7h1M9 7h1M13 7h1M0 8h1M5 8h1M8 8h2M13 8h1M0 9h1M4 9h1M7 9h1M9 9h1M13 9h1M0 10h1M7 10h4M13 10h1M0 11h1M9 11h1M13 11h1M0 12h1M13 12h1M0 13h1M13 13h1M0 14h14"]
         ["#c6c6c6" "M1 1h1M12 1h1M6 2h1M8 2h1M10 2h1M2 3h3M6 3h6M6 4h1M8 4h1M10 4h2M2 5h3M6 5h2M9 5h2M6 6h1M8 6h2M11 6h1M2 7h4M7 7h2M10 7h2M3 8h2M6 8h2M10 8h2M2 9h2M5 9h2M8 9h1M10 9h1M3 10h2M6 10h1M11 10h1M2 11h7M10 11h2M3 12h1M5 12h1M7 12h3M11 12h1M1 13h1"]
         ["#ffffff" "M2 1h10M1 2h1M1 3h1M1 4h1M1 5h1M1 6h1M1 7h1M1 8h1M1 9h1M1 10h1M1 11h1M1 12h1"]
         ["#adadad" "M2 2h1M7 2h1M9 2h1M11 2h1M2 4h1M7 4h1M11 5h1M2 6h1M10 6h1M2 8h1M11 9h1M2 10h1M5 10h1M2 12h1M4 12h1M6 12h1M10 12h1"]
         ["#848484" "M12 2h1M12 4h1M12 5h1M12 6h1M12 8h1M12 9h1M12 10h1M12 12h1M2 13h6M9 13h4"]
         ["#737373" "M12 3h1M12 7h1M12 11h1M8 13h1"]]
   :on [["#000000" "M0 0h14M0 1h1M13 1h1M0 2h1M3 2h3M13 2h1M0 3h1M5 3h1M13 3h1M0 4h1M3 4h3M9 4h1M13 4h1M0 5h1M5 5h1M8 5h1M13 5h1M0 6h1M3 6h3M7 6h1M13 6h1M0 7h1M6 7h1M9 7h1M13 7h1M0 8h1M5 8h1M8 8h2M13 8h1M0 9h1M4 9h1M7 9h1M9 9h1M13 9h1M0 10h1M7 10h4M13 10h1M0 11h1M9 11h1M13 11h1M0 12h1M13 12h1M0 13h1M13 13h1M0 14h14"]
        ["#d6944a" "M1 1h1M12 1h1M1 13h1"]
        ["#ffffff" "M2 1h10M1 2h1M1 3h1M1 4h1M1 5h1M1 6h1M1 7h1M1 8h1M1 9h1M1 10h1M1 11h1M1 12h1"]
        ["#ffff00" "M2 2h1M6 2h6M2 3h3M6 3h6M2 4h1M6 4h3M10 4h2M2 5h3M6 5h2M9 5h3M2 6h1M6 6h1M8 6h4M2 7h4M7 7h2M10 7h2M2 8h3M6 8h2M10 8h2M2 9h2M5 9h2M8 9h1M10 9h2M2 10h5M11 10h1M2 11h7M10 11h2M2 12h10"]
        ["#b54a00" "M12 2h1M12 3h1M12 4h1M12 5h1M12 6h1M12 7h1M12 8h1M12 9h1M12 10h1M12 11h1M12 12h1M2 13h11"]]})

(def four-quarter-time-button
  {:off [["#000000" "M0 0h14M0 1h1M13 1h1M0 2h1M4 2h1M13 2h1M0 3h1M3 3h2M13 3h1M0 4h1M2 4h1M4 4h1M9 4h1M13 4h1M0 5h1M2 5h4M8 5h1M13 5h1M0 6h1M4 6h1M7 6h1M13 6h1M0 7h1M6 7h1M9 7h1M13 7h1M0 8h1M5 8h1M8 8h2M13 8h1M0 9h1M4 9h1M7 9h1M9 9h1M13 9h1M0 10h1M7 10h4M13 10h1M0 11h1M9 11h1M13 11h1M0 12h1M13 12h1M0 13h1M13 13h1M0 14h14"]
         ["#c6c6c6" "M1 1h1M12 1h1M3 2h1M5 2h1M7 2h1M9 2h1M11 2h1M2 3h1M5 3h7M3 4h1M5 4h1M7 4h2M10 4h1M6 5h2M9 5h3M2 6h2M5 6h2M8 6h2M11 6h1M3 7h2M7 7h2M10 7h2M2 8h3M6 8h2M10 8h2M3 9h1M5 9h2M8 9h1M10 9h1M2 10h3M6 10h1M11 10h1M3 11h6M10 11h2M2 12h2M5 12h1M7 12h3M11 12h1M1 13h1"]
         ["#ffffff" "M2 1h10M1 2h1M1 3h1M1 4h1M1 5h1M1 6h1M1 7h1M1 8h1M1 9h1M1 10h1M1 11h1M1 12h1"]
         ["#adadad" "M2 2h1M6 2h1M8 2h1M10 2h1M6 4h1M11 4h1M10 6h1M2 7h1M5 7h1M2 9h1M11 9h1M5 10h1M2 11h1M4 12h1M6 12h1M10 12h1"]
         ["#737373" "M12 2h1M12 6h1M12 8h1M12 11h1M2 13h1M8 13h1"]
         ["#848484" "M12 3h1M12 4h1M12 5h1M12 7h1M12 9h1M12 10h1M12 12h1M3 13h5M9 13h4"]]
   :on [["#000000" "M0 0h14M0 1h1M13 1h1M0 2h1M4 2h1M13 2h1M0 3h1M3 3h2M13 3h1M0 4h1M2 4h1M4 4h1M9 4h1M13 4h1M0 5h1M2 5h4M8 5h1M13 5h1M0 6h1M4 6h1M7 6h1M13 6h1M0 7h1M6 7h1M9 7h1M13 7h1M0 8h1M5 8h1M8 8h2M13 8h1M0 9h1M4 9h1M7 9h1M9 9h1M13 9h1M0 10h1M7 10h4M13 10h1M0 11h1M9 11h1M13 11h1M0 12h1M13 12h1M0 13h1M13 13h1M0 14h14"]
        ["#d6944a" "M1 1h1M12 1h1M1 13h1"]
        ["#ffffff" "M2 1h10M1 2h1M1 3h1M1 4h1M1 5h1M1 6h1M1 7h1M1 8h1M1 9h1M1 10h1M1 11h1M1 12h1"]
        ["#ffff00" "M2 2h2M5 2h7M2 3h1M5 3h7M3 4h1M5 4h4M10 4h2M6 5h2M9 5h3M2 6h2M5 6h2M8 6h4M2 7h4M7 7h2M10 7h2M2 8h3M6 8h2M10 8h2M2 9h2M5 9h2M8 9h1M10 9h2M2 10h5M11 10h1M2 11h7M10 11h2M2 12h10"]
        ["#b54a00" "M12 2h1M12 3h1M12 4h1M12 5h1M12 6h1M12 7h1M12 8h1M12 9h1M12 10h1M12 11h1M12 12h1M2 13h11"]]})

; will have on-click of #(dispatch [:set-time-signature <beats-per-measure>])
#_(defn time-signature [x y scale]
   (let [active (subscribe [:time-signature])]
     (fn [x y scale]
         (if (= 3 @active)))))

(defn scroll-cue-left [x y scale]
  [:g.fade 
   (svg-paths [["#000000" "M4 0h1M3 1h2M2 2h1M4 2h3M1 3h1M0 4h1M1 5h1M2 6h1M4 6h3M3 7h2M4 8h1"]
               ["#f8f800" "M3 2h1M2 3h5M1 4h6M2 5h5M3 6h1"]]
              x y scale)])

(defn scroll-cue-right [x y scale]
  [:g.fade
   (svg-paths [["#000000" "M2 0h1M2 1h2M0 2h3M4 2h1M5 3h1M6 4h1M5 5h1M0 6h3M4 6h1M2 7h2M2 8h1"]
               ["#f8f800" "M3 2h1M0 3h5M0 4h6M0 5h5M3 6h1"]]
              x y scale)])

(def advance-cue-measure
  [["#f7f700" "M0 0h2M7 0h1M2 1h1M3 2h1M4 3h1M5 4h1"]
   ["#000000" "M2 0h1M9 0h1M3 1h1M10 1h1M4 2h1M11 2h1M5 3h1M12 3h1M6 4h1M5 6h1M12 6h1M4 7h1M11 7h1M3 8h1M10 8h1M2 9h1M9 9h1"]
   ["#d8c78b" "M8 0h1"]
   ["#f7cc00" "M0 1h1M7 1h1M0 2h1M7 2h1M0 3h1M7 3h1M0 4h1M7 4h1M0 5h1M4 5h1M7 5h1M11 5h1M0 6h1M3 6h1M7 6h1M10 6h1M0 7h1M2 7h1M7 7h1M9 7h1M0 8h2M7 8h2"]
   ["#ffde00" "M1 1h1M8 1h1M1 2h2M8 2h2M1 3h3M8 3h3M1 4h4M8 4h4M1 5h3M8 5h3M1 6h2M8 6h2M1 7h1M8 7h1"]
   ["#ccb49e" "M9 1h1"]
   ["#e8e165" "M10 2h1"]
   ["#e6dd6c" "M11 3h1"]
   ["#ded17f" "M12 4h1"]
   ["#f79400" "M5 5h1M12 5h1M4 6h1M11 6h1M3 7h1M10 7h1M2 8h1M9 8h1M0 9h2M7 9h2"]])

(def advance-cue-end
  [["#f7f700" "M0 0h2M2 1h1M3 2h1M4 3h1M5 4h1"]
   ["#000000" "M2 0h1M7 0h1M3 1h1M7 1h1M4 2h1M7 2h1M5 3h1M7 3h1M6 4h2M6 5h2M5 6h1M7 6h1M4 7h1M7 7h1M3 8h1M7 8h1M2 9h1M7 9h1"]
  ;["#ffffff" "M3 0h4M4 1h3M5 2h2M6 3h1M6 6h1M5 7h2M4 8h3M3 9h4"]
   ["#f7cc00" "M0 1h1M0 2h1M0 3h1M0 4h1M0 5h1M4 5h1M0 6h1M3 6h1M0 7h1M2 7h1M0 8h2"]
   ["#ffde00" "M1 1h1M1 2h2M1 3h3M1 4h4M1 5h3M1 6h2M1 7h1"]
   ["#f79400" "M5 5h1M4 6h1M3 7h1M2 8h1M0 9h2"]])

(defn eraser-cursor [x y scale]
   (svg-paths {:pointer-events "none"}
    [["#000001" "M0 0h8M0 1h1M8 1h1M0 2h2M7 2h1M9 2h1M0 3h1M2 3h1M6 3h1M10 3h1M1 4h1M3 4h1M5 4h1M11 4h1M1 5h1M4 5h1M12 5h1M2 6h1M4 6h2M11 6h2M2 7h1M4 7h1M6 7h1M10 7h1M12 7h1M3 8h2M7 8h1M9 8h1M12 8h1M4 9h1M8 9h1M12 9h1M5 10h1M8 10h1M11 10h1M6 11h1M8 11h1M10 11h1M7 12h3M8 13h1"]
     ["#f8f8f8" "M1 1h7M2 2h5M3 3h3M8 3h1M4 4h1M7 4h1M9 4h1M6 5h1M8 5h1M10 5h1M7 6h1M9 6h1M8 7h1"]
     ["#00f8f8" "M8 2h1M7 3h1M9 3h1M6 4h1M8 4h1M10 4h1M5 5h1M7 5h1M9 5h1M11 5h1M6 6h1M8 6h1M10 6h1M5 7h1M7 7h1M9 7h1M5 8h2M8 8h1M5 9h3M6 10h2M7 11h1"]
     ["#c0c0c1" "M1 3h1M2 4h1M2 5h2M3 6h1M3 7h1"]
     ["#0000f8" "M11 7h1M10 8h2M9 9h3M9 10h2M9 11h1"]]
    x y scale))

(defn eraser [x y scale]
  (let [active? (subscribe [:eraser?])]
    (fn [x y scale]
      (svg-paths {:on-click #(do (dispatch [:eraser-toggle])
                                (if-not @active? (music/play-sample 18 63)))}
                 (if @active?
                   [["#ffffff" "M0 0h15M0 1h2M12 1h3M0 2h3M4 2h7M12 2h1M14 2h1M0 3h3M4 3h2M7 3h4M12 3h3M0 4h2M4 4h5M10 4h1M12 4h3M0 5h2M4 5h3M8 5h3M13 5h2M0 6h2M13 6h2M0 7h2M13 7h2M0 8h2M13 8h2M0 9h2M13 9h2M0 10h2M13 10h2M0 11h2M13 11h2M0 12h2M13 12h2M0 13h2M13 13h2M0 14h2M13 14h2M0 15h2M13 15h2M0 16h14"]
                    ["#ceefe7" "M2 1h1M13 2h1M6 3h1M2 4h1M9 4h1M7 5h1M14 16h1"]
                    ["#000000" "M3 1h9M3 2h1M11 2h1M3 3h1M11 3h1M3 4h1M11 4h1M2 5h2M11 5h2M2 6h1M12 6h1M2 7h1M12 7h1M2 8h1M12 8h1M2 9h1M12 9h1M2 10h1M12 10h1M2 11h1M12 11h1M2 12h1M12 12h1M2 13h1M12 13h1M2 14h1M12 14h1M2 15h11"]
                    ["#84ef94" "M3 6h9M3 7h2M10 7h2M3 8h2M6 8h6M3 9h2M6 9h6M3 10h2M9 10h3M3 11h2M6 11h6M3 12h2M6 12h6M3 13h2M10 13h2M3 14h9"]
                    ["#089c31" "M5 7h5M5 8h1M5 9h1M5 10h4M5 11h1M5 12h1M5 13h5"]]
                   [["#000000" "M0 0h15M0 1h15M0 2h4M11 2h4M0 3h4M11 3h4M0 4h4M11 4h4M0 5h4M11 5h4M0 6h3M12 6h3M0 7h3M12 7h3M0 8h3M12 8h3M0 9h3M12 9h3M0 10h3M12 10h3M0 11h3M12 11h3M0 12h3M12 12h3M0 13h3M12 13h3M0 14h3M12 14h3M0 15h15M0 16h15"]
                    ["#ffffff" "M4 2h7M4 3h2M7 3h4M4 4h5M10 4h1M4 5h3M8 5h3"]
                    ["#ceefe7" "M6 3h1M9 4h1M7 5h1"]
                    ["#c6c6c6" "M3 6h1M5 6h1M7 6h2M10 6h2M3 7h2M10 7h1M3 8h2M6 8h2M9 8h3M3 9h1M6 9h4M11 9h1M3 10h2M9 10h3M3 11h2M6 11h4M11 11h1M3 12h1M6 12h2M9 12h3M3 13h2M10 13h1M3 14h6M10 14h2"]
                    ["#adadad" "M4 6h1M6 6h1M9 6h1M11 7h1M8 8h1M4 9h1M10 9h1M10 11h1M4 12h1M8 12h1M11 13h1M9 14h1"]
                    ["#848484" "M5 7h5M5 9h1M5 10h1M7 10h1M5 12h1M5 13h1M7 13h3"]
                    ["#737373" "M5 8h1M6 10h1M8 10h1M5 11h1M6 13h1"]])
                 x y scale))))

(defn repeat-button [x y scale]
  (svg-paths {:on-click #(do (dispatch [:repeat-toggle])
                           (music/play-sample 17 63))}
             (if @(subscribe [:repeat?])
               [["#000000" "M0 0h13M0 1h1M12 1h1M0 2h1M12 2h1M0 3h1M3 3h8M12 3h1M0 4h1M6 4h1M8 4h3M12 4h1M0 5h1M3 5h8M12 5h1M0 6h1M6 6h1M8 6h3M12 6h1M0 7h1M3 7h8M12 7h1M0 8h1M6 8h1M8 8h3M12 8h1M0 9h1M3 9h8M12 9h1M0 10h1M6 10h1M8 10h3M12 10h1M0 11h1M3 11h8M12 11h1M0 12h1M12 12h1M0 13h13"]
                ["#f8f800" "M1 1h11M1 2h11M1 3h2M11 3h1M1 4h5M7 4h1M11 4h1M1 5h2M11 5h1M1 6h5M7 6h1M11 6h1M1 7h2M11 7h1M1 8h5M7 8h1M11 8h1M1 9h2M11 9h1M1 10h5M7 10h1M11 10h1M1 11h2M11 11h1M1 12h11"]]
               [["#000000" "M0 0h13M0 1h1M12 1h1M0 2h1M12 2h1M0 3h1M3 3h8M12 3h1M0 4h1M6 4h1M8 4h3M12 4h1M0 5h1M3 5h8M12 5h1M0 6h1M6 6h1M8 6h3M12 6h1M0 7h1M3 7h8M12 7h1M0 8h1M6 8h1M8 8h3M12 8h1M0 9h1M3 9h8M12 9h1M0 10h1M6 10h1M8 10h3M12 10h1M0 11h1M3 11h8M12 11h1M0 12h1M12 12h1M0 13h13"]
                ["gray" "M1 1h11M1 2h11M1 3h2M11 3h1M1 4h5M7 4h1M11 4h1M1 5h2M11 5h1M1 6h5M7 6h1M11 6h1M1 7h2M11 7h1M1 8h5M7 8h1M11 8h1M1 9h2M11 9h1M1 10h5M7 10h1M11 10h1M1 11h2M11 11h1M1 12h11"]])
             x y scale))

(defn undo-dog [x y scale]
  (let [undos? (subscribe [:undos?])]     
    (fn [x y scale]
      (svg-paths {:on-click (if @undos? #(do (dispatch [:undo])
                                             (music/play-sample 16 63)))}
                 (if @undos?
                  [["#000000" "M0 0h1M3 0h8M13 0h1M0 1h1M4 1h6M13 1h1M0 2h2M4 2h6M12 2h2M0 3h2M12 3h2M0 4h2M12 4h2M0 5h3M5 5h1M8 5h1M11 5h3M0 6h3M11 6h3M0 7h3M6 7h2M11 7h3M0 8h3M6 8h2M11 8h3M0 9h3M4 9h2M8 9h2M11 9h3M0 10h3M4 10h1M9 10h1M11 10h3M0 11h3M5 11h1M8 11h1M11 11h3M0 12h4M6 12h2M10 12h4M0 13h5M9 13h5M0 14h14"]
                   ["#ffc694" "M1 0h1M12 0h1M1 1h1M3 1h1M11 1h2M11 2h1M3 3h2M2 4h2M9 4h1M11 4h1M3 5h1M9 5h1M3 6h1M9 6h1M3 7h1M8 7h2M3 8h1M8 8h2M3 9h1M3 10h1M4 12h1M6 13h1"]
                   ["#ffefbd" "M2 0h1M11 0h1M2 1h1M10 1h1M2 2h1M10 2h1M2 3h1M5 3h6M4 4h5M4 5h1M6 5h2M4 6h1M6 6h2M4 7h2M4 8h2M4 11h1M5 12h1"]
                   ["#d6944a" "M3 2h1M11 3h1M10 4h1M10 5h1M10 6h1M10 7h1M10 8h1M10 9h1M10 10h1M3 11h1M9 11h2M8 12h2M5 13h1M7 13h2"]
                   ["#ffffff" "M5 6h1M8 6h1"]
                   ["#b54a00" "M6 9h2M5 10h4M6 11h2"]]
                  [["#000000" "M0 0h14M0 1h1M4 1h6M13 1h1M0 2h2M5 2h4M12 2h2M0 3h2M3 3h1M10 3h1M12 3h2M0 4h2M12 4h2M0 5h3M11 5h3M0 6h3M5 6h1M8 6h1M11 6h3M0 7h3M11 7h3M0 8h3M11 8h3M0 9h3M6 9h2M11 9h3M0 10h3M6 10h2M11 10h3M0 11h3M5 11h4M11 11h3M0 12h4M10 12h4M0 13h5M9 13h5M0 14h14"]
                   ["#c6c6c6" "M1 1h3M10 1h3M2 2h1M4 2h1M9 2h1M5 3h4M4 4h1M6 4h1M8 4h1M4 5h1M6 5h2M6 6h1M4 7h2M4 8h3M5 9h1M4 10h2M4 11h1M5 12h1"]
                   ["#737373" "M3 2h1M10 2h1M10 4h1M10 6h1M10 8h1M10 10h1M8 12h1M7 13h1"]
                   ["#a5a5b5" "M11 2h1M2 3h1M4 3h1M9 3h1M11 3h1M3 4h1M9 4h1M3 5h1M9 5h1M3 6h1M7 6h1M9 6h1M3 7h1M7 7h3M3 8h1M7 8h3M3 9h1M8 9h2M3 10h1M8 10h2M4 12h1M6 12h2M6 13h1"]
                   ["#848484" "M2 4h1M11 4h1M10 5h1M10 7h1M10 9h1M3 11h1M9 11h2M9 12h1M5 13h1M8 13h1"]
                   ["#adadad" "M5 4h1M7 4h1M4 6h1M6 7h1M4 9h1"]
                   ["#ffffff" "M5 5h1M8 5h1"]])
                 (* x 5) (* y 5) scale))))

(defn redo-rabbit [x y scale]
  (let [redos? (subscribe [:redos?])]
    (fn [x y scale]
      (svg-paths {:on-click (if @redos? #(dispatch [:redo]))}
                 (if @redos? 
                   [["#ffffff" "M0 0h3M5 0h5M12 0h3M0 1h2M6 1h2M13 1h2M0 2h1M2 2h1M5 2h1M7 2h1M9 2h1M12 2h1M14 2h1M0 3h1M2 3h1M5 3h1M9 3h1M12 3h1M14 3h1M0 4h1M2 4h1M5 4h1M9 4h1M12 4h1M14 4h1M0 5h1M3 5h2M10 5h2M14 5h1M0 6h2M13 6h2M0 7h1M14 7h1M0 12h1M14 12h1M0 13h2M13 13h2M0 14h4M11 14h4M0 15h2M3 15h3M9 15h4M14 15h1M0 16h11M12 16h3"]
                    ["#000000" "M3 0h2M10 0h2M2 1h1M5 1h1M9 1h1M12 1h1M1 2h1M3 2h2M6 2h1M8 2h1M10 2h2M13 2h1M1 3h1M3 3h2M6 3h3M10 3h2M13 3h1M1 4h1M3 4h2M6 4h1M8 4h1M10 4h2M13 4h1M1 5h1M5 5h1M9 5h1M13 5h1M2 6h1M12 6h1M1 7h1M6 7h1M8 7h1M13 7h1M0 8h1M14 8h1M0 9h1M14 9h1M0 10h1M14 10h1M0 11h1M4 11h1M10 11h1M14 11h1M1 12h1M5 12h1M9 12h1M13 12h1M2 13h2M6 13h3M11 13h2M4 14h2M9 14h2M6 15h3"]
                    ["#00ff00" "M3 1h2M10 1h2M7 4h1M2 5h1M6 5h3M12 5h1M3 6h9M2 7h4M7 7h1M9 7h4M1 8h13M1 9h13M1 10h13M1 11h3M5 11h5M11 11h3M2 12h3M6 12h3M10 12h3M4 13h2M9 13h2M6 14h3"]
                    ["#ceefe7" "M8 1h1M2 15h1M13 15h1M11 16h1"]]
                   [["#848484" "M0 0h15M0 1h1M2 1h1M5 1h1M7 1h1M9 1h1M12 1h1M14 1h1M0 2h2M6 2h3M13 2h2M0 3h1M7 3h1M14 3h1M0 4h1M14 4h1M0 5h1M14 5h1M0 6h1M14 6h1M0 7h2M13 7h2M0 8h1M14 8h1M0 13h1M14 13h1M0 14h2M13 14h2M0 15h1M2 15h2M11 15h2M14 15h1M0 16h3M4 16h2M9 16h2M12 16h3"]
                    ["#737373" "M1 1h1M6 1h1M8 1h1M13 1h1M1 15h1M13 15h1M3 16h1M11 16h1"]
                    ["#000000" "M3 1h2M10 1h2M2 2h1M5 2h1M9 2h1M12 2h1M1 3h2M6 3h1M8 3h1M12 3h2M1 4h1M3 4h1M6 4h3M11 4h1M13 4h1M1 5h1M4 5h1M6 5h1M8 5h1M10 5h1M13 5h1M1 6h1M5 6h1M9 6h1M13 6h1M2 7h1M12 7h1M1 8h1M6 8h1M8 8h1M13 8h1M0 9h1M14 9h1M0 10h1M14 10h1M0 11h1M14 11h1M0 12h1M14 12h1M1 13h1M6 13h3M13 13h1M2 14h2M11 14h2M4 15h2M9 15h2M6 16h3"]
                    ["#c6c6c6" "M3 2h2M10 2h2M3 3h3M9 3h2M2 4h1M4 4h1M9 4h2M12 4h1M2 5h2M5 5h1M7 5h1M9 5h1M11 5h2M2 6h1M4 6h1M6 6h3M10 6h2M3 7h3M7 7h3M11 7h1M2 8h2M5 8h1M7 8h1M9 8h4M1 9h6M8 9h2M11 9h3M1 10h1M3 10h2M6 10h6M13 10h1M1 11h3M5 11h3M9 11h2M12 11h2M1 12h2M4 12h3M8 12h6M2 13h3M9 13h1M11 13h2M4 14h7M6 15h1M8 15h1"]
                    ["#adadad" "M11 3h1M5 4h1M3 6h1M12 6h1M6 7h1M10 7h1M4 8h1M7 9h1M10 9h1M2 10h1M5 10h1M12 10h1M4 11h1M8 11h1M11 11h1M3 12h1M7 12h1M5 13h1M10 13h1M7 15h1"]])
                 (* x 5) (* y 5) scale))))

(def ghost
  [["#fefefe" "M0 0h10M20 0h12M0 1h10M20 1h12M0 2h6M10 2h10M24 2h8M0 3h6M10 3h10M24 3h8M0 4h4M6 4h18M26 4h6M0 5h4M6 5h18M26 5h6M0 6h2M4 6h22M28 6h4M0 7h2M4 7h22M28 7h4M0 8h2M4 8h2M8 8h2M12 8h14M28 8h4M0 9h2M4 9h2M8 9h2M12 9h14M28 9h4M2 10h4M8 10h2M12 10h8M24 10h4M30 10h2M2 11h4M8 11h2M12 11h8M24 11h4M30 11h2M2 12h16M20 12h4M26 12h2M30 12h2M2 13h16M20 13h4M26 13h2M30 13h2M2 14h2M6 14h2M10 14h2M14 14h10M26 14h2M30 14h2M2 15h2M6 15h2M10 15h2M14 15h10M26 15h2M30 15h2M2 16h2M14 16h8M24 16h6M2 17h2M14 17h8M24 17h6M2 18h2M14 18h16M2 19h2M14 19h16M0 20h2M4 20h2M16 20h14M0 21h2M4 21h2M16 21h14M0 22h2M4 22h2M8 22h2M12 22h2M16 22h12M30 22h2M0 23h2M4 23h2M8 23h2M12 23h2M16 23h12M30 23h2M0 24h4M6 24h18M28 24h4M0 25h4M6 25h18M28 25h4M0 26h6M12 26h8M24 26h8M0 27h6M12 27h8M24 27h8M0 28h12M20 28h12M0 29h12M20 29h12"]
   ["#000000" "M10 0h10M10 1h10M6 2h4M20 2h4M6 3h4M20 3h4M4 4h2M24 4h2M4 5h2M24 5h2M2 6h2M26 6h2M2 7h2M26 7h2M2 8h2M6 8h2M10 8h2M26 8h2M2 9h2M6 9h2M10 9h2M26 9h2M0 10h2M6 10h2M10 10h2M20 10h4M28 10h2M0 11h2M6 11h2M10 11h2M20 11h4M28 11h2M0 12h2M18 12h2M24 12h2M28 12h2M0 13h2M18 13h2M24 13h2M28 13h2M0 14h2M24 14h2M28 14h2M0 15h2M24 15h2M28 15h2M0 16h2M22 16h2M30 16h2M0 17h2M22 17h2M30 17h2M0 18h2M30 18h2M0 19h2M30 19h2M2 20h2M30 20h2M2 21h2M30 21h2M2 22h2M28 22h2M2 23h2M28 23h2M4 24h2M24 24h4M4 25h2M24 25h4M6 26h6M20 26h4M6 27h6M20 27h4M12 28h8M12 29h8"]
   ["#fe0000" "M4 14h2M8 14h2M12 14h2M4 15h2M8 15h2M12 15h2M4 16h10M4 17h10M4 18h10M4 19h10M6 20h10M6 21h10M6 22h2M10 22h2M14 22h2M6 23h2M10 23h2M14 23h2"]])

(def zelda
  [["#000100" "M8 0h2M15 0h2M7 2h1M17 2h1M6 3h1M18 3h1M4 4h2M19 4h2M4 5h2M19 5h2M4 6h2M19 6h2M3 7h1M21 7h1M3 14h1M7 14h1M17 14h1M21 14h1M3 15h1M21 15h1M3 16h1M21 16h1M4 17h3M18 17h3M6 18h1M18 18h1M6 19h1M18 19h1M4 20h2M19 20h2M3 21h1M21 21h1M2 22h1M6 22h1M18 22h1M22 22h2M2 23h1M6 23h1M18 23h1M22 23h2M2 24h1M22 24h2M3 25h4M18 25h4M3 26h4M18 26h4M6 27h2M17 27h2M4 28h2M8 28h9M19 28h2M4 29h2M10 29h1M14 29h1M19 29h2M4 30h2M10 30h1M14 30h1M19 30h2M6 31h4M15 31h4"]
   ["#52ad54" "M10 0h5M10 1h5M8 2h2M15 2h2M7 3h2M17 3h1M6 4h1M18 4h1M6 5h1M18 5h1M4 7h2M19 7h2M7 21h11M8 22h9M8 23h9M6 24h1M18 24h1M10 25h1M14 25h1M10 26h1M14 26h3M8 27h2M15 27h2"]
   ["#4f514e" "M7 1h3M15 1h3M7 6h1M17 6h1M6 7h1M18 7h1M0 8h1M3 8h3M19 8h3M24 8h1M0 9h1M3 9h3M15 9h2M19 9h3M24 9h1M0 10h1M4 10h2M7 10h1M14 10h1M17 10h1M19 10h2M24 10h1M2 11h1M4 11h3M13 11h1M17 11h1M20 11h1M22 11h2M6 12h1M17 12h1M22 12h2M3 13h1M6 13h1M10 13h2M18 13h1M21 13h1M6 14h1M8 14h3M15 14h2M18 14h1M6 15h1M10 15h1M14 15h1M18 15h1M6 16h1M10 16h1M14 16h1M18 16h1M7 18h1M17 18h1M7 19h1M17 19h1M7 20h3M15 20h3M1 22h1M7 22h1M17 22h1M1 23h1M7 23h1M17 23h1M1 24h1M8 24h3M14 24h3M7 28h1M17 28h1M8 29h2M15 29h2M8 30h2M15 30h2"]
   ["#92c24b" "M10 2h5M9 3h8M7 4h11M7 5h11M6 6h1M18 6h1M2 8h1M1 9h1M1 10h1M12 13h1M6 20h1M18 20h1M4 21h3M18 21h3M20 22h1M7 24h1M17 24h1M7 25h3M15 25h3M7 26h3M17 26h1M10 27h5"]
   ["#feee4d" "M8 6h9M7 7h11M7 8h1M10 8h4M17 8h2M7 9h1M10 9h4M17 9h2M6 10h1M8 10h6M18 10h1M8 11h3M8 12h3M4 13h2M19 13h2M4 14h2M19 14h2M11 24h3M11 25h3M11 26h3"]
   ["#876355" "M1 8h1M19 11h1M2 12h1M4 12h2M12 12h2M20 12h1"]
   ["#ed9a61" "M6 8h1M2 9h1M22 9h1M15 10h2M3 11h1M14 11h1M21 11h1M3 12h1M14 12h1M21 12h1M13 13h1M17 13h1M11 14h1M14 14h1M16 18h1M10 20h5M3 22h1M21 22h1M3 24h1M21 24h1"]
   ["#f7ba00" "M8 8h2M14 8h1M6 9h1M8 9h2M14 9h1M7 11h1M11 11h1M18 11h1M7 12h1M11 12h1M18 12h1M7 13h3M4 15h2M19 15h2M4 16h2M19 16h2"]
   ["#775904" "M15 8h2M19 12h1"]
   ["#e9bc9a" "M22 8h1M23 9h1M2 10h2M21 10h3M15 11h2M15 12h2M14 13h3M12 14h2M11 15h3M11 16h3M7 17h1M11 17h3M17 17h1M8 18h8M8 19h9M4 22h2M19 22h1M3 23h3M19 23h3M4 24h2M19 24h2"]
   ["#987124" "M12 11h1"]
   ["#4751b0" "M8 15h2M15 15h2M8 16h2M15 16h2M8 17h2M15 17h2"]
   ["#cbceca" "M5 19h1M19 27h1"]
   ["#6b1f19" "M6 28h1M18 28h1M6 29h2M17 29h2M6 30h2M17 30h2"]])

(def megaman
  [["#000000" "M13 4h2M11 5h2M15 5h1M10 6h1M13 6h1M16 6h1M9 7h1M14 7h4M9 8h1M14 8h1M18 8h1M8 9h1M15 9h2M18 9h1M8 10h1M18 10h1M8 11h1M13 11h2M16 11h1M18 11h1M9 12h1M13 12h2M16 12h1M18 12h1M8 13h2M18 13h1M6 14h2M10 14h1M13 14h3M17 14h3M5 15h1M11 15h1M16 15h1M20 15h1M4 16h1M9 16h1M16 16h1M21 16h1M4 17h1M7 17h3M16 17h3M21 17h1M4 18h1M8 18h2M16 18h2M21 18h1M4 19h1M8 19h2M16 19h2M21 19h1M5 20h3M9 20h1M16 20h1M18 20h3M8 21h1M17 21h1M7 22h1M18 22h1M6 23h2M12 23h2M18 23h2M4 24h2M11 24h1M14 24h1M20 24h2M3 25h1M11 25h1M14 25h1M22 25h1M3 26h9M14 26h9"]
   ["#00e5ff" "M13 5h2M14 6h2M15 8h2M9 9h1M9 10h1M9 11h1M8 14h2M7 15h4M17 15h2M8 16h1M10 16h6M17 16h1M10 17h6M10 18h6M9 21h2M14 21h3M10 22h7M11 23h1M14 23h1"]
   ["#006fff" "M11 6h2M10 7h4M10 8h4M17 8h1M10 9h5M17 9h1M10 10h2M15 10h2M10 11h1M10 12h1M10 13h1M11 14h1M6 15h1M19 15h1M5 16h3M18 16h3M5 17h2M19 17h2M5 18h3M18 18h3M5 19h3M10 19h6M18 19h3M10 20h6M11 21h3M8 22h2M17 22h1M8 23h3M15 23h3M6 24h5M15 24h5M4 25h7M15 25h7"]
   ["#ffebd9" "M12 10h1M11 11h1M15 11h1M11 12h1M15 12h1M11 13h2M15 13h1M12 14h1M16 14h1M12 15h4"]])

(defn advance-measure []
  (let [mouseover? (r/atom false)]
    (fn []
      [:g
       [:rect {:x 58 :y 5.5
               :height 2.5
               :width 6
               :pointer-events "all"
               :visibility "hidden"
               :opacity 0.2
               :on-mouse-over #(reset! mouseover? true)
               :on-mouse-out #(reset! mouseover? false)
               :on-click #(dispatch [:advance-editor 4])}]
       (if @mouseover?
         (svg-paths {:pointer-events "none"} advance-cue-measure 300 30 0.2))])))

(defn advance-editor []
  (let [mouseover? (r/atom false)]
    (fn []
      [:g
       [:rect {:x 58 :y 8
               :height 12
               :width 6
               :pointer-events "all"
               :visibility "hidden"
               :opacity 0.2
               :on-mouse-over #(reset! mouseover? true)
               :on-mouse-out #(reset! mouseover? false)
               :on-click #(dispatch [:advance-editor 0.5])}]
       (if @mouseover?
         [:g
          [scroll-cue-right (* 4 60.8) (* 4 8) 0.25]
          [scroll-cue-right (* 4 60.8) (* 4 14) 0.25]])])))

(defn advance-end []
  (let [mouseover? (r/atom false)
        length (apply max (map #(:time %) @(subscribe [:notes])))
        editor-pos (subscribe [:editor-beat-start])]
    (fn []
      [:g
       [:rect {:x 58 :y 2
               :height 3.5
               :width 6
               :pointer-events "all"
               :visibility "hidden"
               :opacity 0.2
               :on-mouse-over #(reset! mouseover? true)
               :on-mouse-out #(reset! mouseover? false)
               :on-click (fn [e] (dispatch [:advance-editor (- (apply max (map #(:time %) @(subscribe [:notes])))
                                                               @editor-pos)]))}]
       (if @mouseover?
         (svg-paths {:pointer-events "none"} advance-cue-end 305 20 0.2))])))

(defn retract-editor [x]
  (let [mouseover? (r/atom false)]
    (fn []
      [:g
       [:rect {:x x :y 2
               :height 32
               :width 6
               :pointer-events "all"
               :visibility "hidden"
               :opacity 0.2
               :on-mouse-over #(reset! mouseover? true)
               :on-mouse-out #(reset! mouseover? false)
               :on-click #(dispatch [:retract-editor])}]
       (if @mouseover?
         [:g
          [scroll-cue-left (* 4 (+ 3 x)) (* 4 8)  0.25]
          [scroll-cue-left (* 4 (+ 3 x)) (* 4 14) 0.25]])])))

(defn display-numbers [n]
  (let [num-path ["M1 0h4M0 1h1M5 1h1M0 2h1M5 2h1M0 3h1M5 3h1M0 4h1M5 4h1M1 5h4"
                  "M1 0h2M2 1h1M2 2h1M2 3h1M2 4h1M1 5h3"
                  "M1 0h4M0 1h1M5 1h1M5 2h1M1 3h4M0 4h1M0 5h6"
                  "M1 0h4M0 1h1M5 1h1M2 2h3M5 3h1M0 4h1M5 4h1M1 5h4"
                  "M2 0h3M1 1h1M4 1h1M0 2h1M4 2h1M0 3h1M4 3h1M0 4h6M4 5h1"
                  "M0 0h6M0 1h1M0 2h5M5 3h1M0 4h1M5 4h1M1 5h4"
                  "M1 0h4M0 1h1M0 2h5M0 3h1M5 3h1M0 4h1M5 4h1M1 5h4"
                  "M0 0h6M0 1h1M5 1h1M4 2h1M3 3h1M3 4h1M3 5h1"
                  "M1 0h4M0 1h1M5 1h1M1 2h4M0 3h1M5 3h1M0 4h1M5 4h1M1 5h4"
                  "M1 0h4M0 1h1M5 1h1M1 2h5M5 3h1M5 4h1M1 5h4"]]
    [:path {:stroke "black"
            :d (get num-path n)}]))

(def data-robot
  {:body [["#000" "M0 0h128M0 1h128M0 2h2m124 0h2M0 3h2m124 0h2M0 4h2m124 0h2M0 5h2m124 0h2M0 6h2m124 0h2M0 7h2m124 0h2M0 8h2m124 0h2M0 9h2m124 0h2M0 10h2m77 0h1m46 0h2M0 11h2m77 0h1m46 0h2M0 12h2m54 0h2m2 0h1m9 0h2m2 0h1m4 0h1m46 0h2M0 13h2m53 0h1m2 0h1m2 0h1m7 0h1m2 0h1m2 0h1m3 0h1m46 0h2M0 14h2m52 0h1m4 0h1m1 0h1m6 0h1m4 0h1m1 0h1m3 0h1m46 0h2M0 15h2m53 0h1m2 0h1m2 0h1m7 0h1m2 0h1m2 0h1m3 0h1m46 0h2M0 16h2m54 0h2m2 0h1m9 0h2m2 0h1m4 0h1m46 0h2M0 17h2m57 0h1m13 0h1m5 0h1m46 0h2M0 18h2m43 0h1m19 0h1m13 0h1m46 0h2M0 19h2m43 0h3m18 0h1m12 0h4m43 0h2M0 20h2m65 0h1m11 0h1m46 0h2M0 21h2m77 0h1m46 0h2M0 22h2m77 0h1m46 0h2M0 23h2m77 0h1m46 0h2M0 24h2m55 0h14m8 0h1m46 0h2M0 25h2m55 0h14m8 0h1m46 0h2M0 26h2m55 0h14m8 0h1m46 0h2M0 27h2m77 0h1m46 0h2M0 28h2m55 0h14m7 0h2m46 0h2M0 29h2m48 0h29m47 0h2M0 30h2m60 0h1m1 0h2m60 0h2M0 31h2m124 0h2M0 32h2m124 0h2M0 33h2m93 0h1m30 0h2M0 34h2m93 0h1m30 0h2M0 35h2m93 0h1m30 0h2M0 36h2m93 0h1m30 0h2M0 37h2m93 0h1m30 0h2M0 38h2m36 0h1m56 0h1m30 0h2M0 39h2m36 0h1m50 0h1m5 0h1m30 0h2M0 40h2m36 0h1m50 0h1m5 0h1m30 0h2M0 41h2m36 0h1m50 0h1m5 0h1m30 0h2M0 42h2m87 0h1m5 0h1m30 0h2M0 43h2m93 0h1m30 0h2M0 44h2m93 0h1m30 0h2M0 45h2m93 0h1m30 0h2M0 46h2m93 0h1m30 0h2M0 47h2m93 0h1m30 0h2M0 48h2m93 0h1m30 0h2M0 49h2m93 0h1m30 0h2M0 50h2m93 0h1m4 0h1m1 0h1m8 0h1m5 0h1m8 0h2M0 51h2m93 0h1m4 0h1m1 0h1m23 0h2M0 52h2m93 0h1m4 0h1m1 0h1m23 0h2M0 53h2m93 0h1m4 0h1m1 0h1m11 0h1m11 0h2M0 54h2m93 0h1m4 0h1m1 0h1m11 0h1m11 0h2M0 55h2m93 0h1m4 0h1m1 0h1m11 0h1m11 0h2M0 56h2m93 0h1m4 0h1m1 0h1m2 0h1m8 0h1m11 0h2M0 57h2m93 0h1m4 0h1m1 0h1m2 0h1m8 0h1m11 0h2M0 58h2m93 0h4m1 0h4m10 0h1m11 0h2M0 59h2m93 0h4m1 0h4m22 0h2M0 60h2m93 0h1m4 0h1m1 0h1m23 0h2M0 61h2m93 0h1m4 0h1m1 0h1m8 0h1m5 0h1m8 0h2M0 62h2m93 0h1m4 0h1m1 0h1m23 0h2M0 63h2m93 0h1m30 0h2M0 64h2m93 0h1m30 0h2M0 65h2m93 0h1m30 0h2M0 66h2m93 0h1m30 0h2M0 67h2m93 0h1m30 0h2M0 68h2m93 0h1m30 0h2M0 69h2m93 0h1m30 0h2M0 70h2m93 0h1m30 0h2M0 71h2m24 0h1m68 0h1m30 0h2M0 72h2m93 0h1m30 0h2M0 73h2m93 0h1m30 0h2M0 74h2m93 0h1m30 0h2M0 75h2m93 0h1m30 0h2M0 76h2m24 0h1m68 0h1m30 0h2M0 77h2m93 0h1m30 0h2M0 78h2m93 0h1m30 0h2M0 79h2m93 0h1m30 0h2M0 80h2m93 0h1m5 0h1m24 0h2M0 81h2m93 0h1m30 0h2M0 82h2m93 0h1m5 0h1m24 0h2M0 83h2m93 0h1m5 0h1m24 0h2M0 84h2m93 0h1m30 0h2M0 85h2m93 0h1m30 0h2M0 86h2m93 0h1m5 0h1m24 0h2M0 87h2m93 0h1m5 0h1m24 0h2M0 88h2m93 0h1m5 0h1m24 0h2M0 89h2m19 0h1m7 0h1m65 0h1m5 0h4m21 0h2M0 90h2m19 0h9m65 0h10m21 0h2M0 91h2m19 0h1m7 0h3m63 0h7m3 0h1m20 0h2M0 92h2m19 0h1m7 0h3m63 0h7m3 0h1m20 0h2M0 93h2m27 0h1m65 0h7m3 0h1m20 0h2M0 94h2m93 0h1m5 0h1m24 0h2M0 95h2m93 0h1m5 0h1m24 0h2M0 96h2m93 0h1m30 0h2M0 97h2m93 0h1m17 0h3m10 0h2M0 98h2m93 0h1m17 0h1m1 0h1m10 0h2M0 99h2m93 0h1m30 0h2M0 100h2m93 0h1m21 0h1m8 0h2M0 101h2m93 0h1m30 0h2M0 102h2m93 0h1m30 0h2M0 103h2m93 0h1m30 0h2M0 104h2m93 0h1m30 0h2M0 105h2m93 0h1m30 0h2M0 106h2m93 0h1m30 0h2M0 107h2m93 0h1m30 0h2M0 108h2m93 0h1m30 0h2M0 109h2m93 0h1m2 0h2m26 0h2M0 110h2m36 0h1m50 0h1m5 0h2m29 0h2M0 111h2m36 0h1m50 0h1m5 0h1m30 0h2M0 112h2m36 0h1m50 0h1m5 0h1m30 0h2M0 113h2m36 0h1m50 0h1m5 0h1m30 0h2M0 114h2m93 0h1m30 0h2M0 115h2m7 0h2m84 0h1m30 0h2M0 116h2m7 0h6m80 0h1m30 0h2M0 117h2m8 0h6m79 0h1m30 0h2M0 118h2m92 0h2m30 0h2M0 119h2m32 0h62m30 0h2M0 120h2m124 0h2M0 121h2m124 0h2M0 122h2m124 0h2M0 123h2m124 0h2M0 124h2m124 0h2M0 125h2m124 0h2M0 126h128M0 127h128"]
          ["#e0e8c0" "M2 2h124M2 3h124M2 4h124M2 5h124M2 6h124M2 7h124M2 8h47m30 0h47M2 9h46m32 0h46M2 10h46m2 0h1m29 0h46M2 11h36m3 0h7m2 0h1m29 0h7m3 0h36M2 12h36m4 0h6m2 0h1m29 0h6m4 0h36M2 13h36m5 0h5m2 0h1m29 0h5m5 0h36M2 14h36m6 0h4m2 0h1m29 0h4m6 0h36M2 15h36m7 0h3m2 0h1m29 0h3m7 0h36M2 16h36m12 0h1m39 0h36M2 17h36m12 0h1m39 0h36M2 18h36m12 0h1m39 0h16m17 0h3M2 19h36m12 0h1m39 0h17m15 0h4M2 20h36m7 0h3m2 0h1m29 0h3m7 0h18m13 0h5M3 21h35m6 0h4m2 0h1m29 0h4m6 0h19m11 0h6M5 22h33m5 0h5m2 0h1m29 0h5m5 0h20m9 0h7M7 23h31m4 0h6m2 0h1m29 0h6m4 0h21m7 0h8M9 24h29m3 0h7m2 0h1m29 0h7m3 0h22m5 0h9M11 25h37m2 0h1m29 0h32m5 0h9M13 26h35m2 0h1m29 0h32m5 0h9M15 27h33m2 0h1m29 0h32m5 0h9M17 28h31m32 0h32m5 0h9M19 29h30m30 0h33m5 0h9M21 30h41m4 0h46m5 0h9M23 31h10m62 0h17m5 0h9M25 32h7m64 0h16m5 0h9m-99 1h5m3 0h1m60 0h16m5 0h9m-97 1h3m2 0h1m61 0h16m5 0h9m-95 1h1m2 0h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m61 0h16m5 0h9m-92 1h1m65 0h1m1 0h1m1 0h8m5 0h9m-92 1h1m70 0h6m7 0h8m-92 1h1m70 0h5m9 0h7m-92 1h1m70 0h4m11 0h6m-92 1h1m70 0h4m11 0h6m-92 1h1m27 0h5m38 0h4m11 0h6m-92 1h1m32 0h3m50 0h6m-92 1h1m35 0h2m48 0h6m-92 1h1m37 0h2m46 0h6m-92 1h1m39 0h1m45 0h6m-92 1h1m40 0h1m29 0h4m11 0h6m-92 1h1m16 0h1m24 0h1m28 0h4m11 0h6m-92 1h1m16 0h1m24 0h1m28 0h4m11 0h6m-92 1h1m15 0h1m26 0h1m27 0h5m9 0h7m-92 1h1m15 0h1m26 0h1m27 0h6m7 0h8m-92 1h1m15 0h1m26 0h1m22 0h1m1 0h1m1 0h8m5 0h9m-92 1h1m16 0h1m24 0h1m19 0h16m5 0h9m-92 1h1m17 0h1m22 0h1m20 0h16m5 0h9m-92 1h1m18 0h1m20 0h1m21 0h16m5 0h9m-92 1h1m19 0h1m7 0h4m7 0h1m22 0h16m5 0h9m-92 1h1m20 0h1m4 0h8m4 0h1m24 0h15m5 0h9m-92 1h1m21 0h1m2 0h4m2 0h4m2 0h1m27 0h13m5 0h9m-92 1h1m22 0h6m2 0h6m30 0h11m5 0h9m-92 1h1m23 0h12m33 0h9m5 0h9m-92 1h1m70 0h7m5 0h9m-92 1h1m72 0h5m5 0h9m-92 1h1m74 0h3m5 0h9m-92 1h1m76 0h1m5 0h9m-92 1h1m82 0h9m-92 1h1m82 0h9m-92 1h1m82 0h9m-92 1h1m84 0h7m-92 1h1m86 0h5m-92 1h1m88 0h3m-92 1h1m90 0h1m-92 1h1m-1 1h1m-5 1h2m2 0h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1"]
          ["#a8a890" "M49 8h30M48 9h2m28 0h2m-32 1h1m3 0h1m3 0h4m10 0h4m2 0h2m-40 1h3m7 0h1m2 0h1m2 0h2m4 0h1m7 0h2m4 0h2m1 0h1m9 0h3m-52 1h2m1 0h1m6 0h1m4 0h1m4 0h2m1 0h1m5 0h1m4 0h2m1 0h1m1 0h1m8 0h1m-49 1h1m2 0h2m5 0h1m3 0h1m1 0h1m5 0h1m1 0h1m3 0h1m1 0h1m5 0h1m1 0h2m7 0h2m-49 1h1m1 0h1m1 0h2m4 0h1m3 0h1m9 0h1m3 0h1m9 0h2m7 0h1m1 0h1m1 0h1m-52 1h1m4 0h2m3 0h1m3 0h1m9 0h1m3 0h1m1 0h1m7 0h2m6 0h1m-47 1h1m1 0h1m3 0h1m1 0h3m5 0h2m6 0h3m3 0h2m6 0h2m9 0h1m1 0h1m-52 1h1m5 0h1m1 0h1m1 0h1m7 0h1m4 0h3m1 0h1m4 0h1m4 0h3m6 0h1m-47 1h1m4 0h1m4 0h1m7 0h7m3 0h1m3 0h6m1 0h1m7 0h1m21 0h3m6 0h6m-84 1h2m2 0h1m5 0h1m12 0h1m5 0h1m9 0h1m8 0h1m1 0h1m30 0h2m-83 1h2m1 0h1m2 0h1m3 0h1m11 0h1m3 0h1m3 0h1m8 0h1m5 0h1m34 0h2m-82 1h2m3 0h1m4 0h1m19 0h1m8 0h1m6 0h1m32 0h2m-77 1h1m5 0h1m22 0h2m4 0h1m7 0h1m30 0h2m-77 1h1m6 0h1m8 0h1m9 0h1m4 0h2m3 0h1m8 0h1m26 0h4m-79 1h3m7 0h1m22 0h3m3 0h1m9 0h3m25 0h1m-68 1h1m22 0h3m3 0h1m37 0h1m-68 1h1m3 0h1m18 0h3m2 0h2m37 0h1m-68 1h1m2 0h1m1 0h3m1 0h1m9 0h1m4 0h4m1 0h1m37 0h1m-68 1h2m65 0h1m-1 1h1m-1 1h1m-83 1h62m20 0h1m-84 1h1m61 0h1m20 0h1m-84 1h1m82 0h1m-84 1h1m3 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m22 0h1m-84 1h1m2 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m23 0h1m-84 1h1m82 0h1m-84 1h1m82 0h1m-84 1h1m82 0h1m-84 1h1m6 0h1m15 0h26m34 0h1m-84 1h1m6 0h1m15 0h1m24 0h1m7 0h1m26 0h1m-84 1h1m22 0h1m24 0h1m7 0h1m26 0h1m-84 1h1m22 0h1m24 0h1m34 0h1m-84 1h1m3 0h1m13 0h1m4 0h1m24 0h1m11 0h1m22 0h1m-84 1h1m2 0h1m14 0h1m1 0h1m2 0h1m24 0h1m10 0h1m23 0h1m-84 1h1m17 0h1m1 0h2m1 0h1m24 0h1m34 0h1m-84 1h1m17 0h1m1 0h2m1 0h1m24 0h1m34 0h1m-84 1h1m17 0h1m1 0h2m1 0h1m24 0h1m34 0h1m-84 1h1m17 0h1m1 0h1m2 0h26m16 0h3m1 0h1m1 0h1m11 0h1m-84 1h1m17 0h1m1 0h1m43 0h2m6 0h1m10 0h1m-84 1h1m9 0h1m7 0h1m2 0h1m43 0h3m1 0h1m1 0h1m8 0h1m2 0h2m-85 1h1m3 0h1m15 0h2m38 0h1m4 0h1m15 0h1m1 0h1m2 0h1m-87 1h1m2 0h1m8 0h1m3 0h1m1 0h4m37 0h1m5 0h1m12 0h1m3 0h1m-83 1h1m13 0h1m3 0h2m18 0h2m25 0h1m12 0h1m5 0h1m-85 1h1m11 0h7m21 0h2m23 0h1m12 0h1m5 0h1m-85 1h1m41 0h1m22 0h3m1 0h1m1 0h1m2 0h1m3 0h1m5 0h1m-85 1h1m42 0h1m30 0h2m2 0h1m5 0h1m-85 1h1m29 0h4m10 0h1m33 0h1m5 0h1m-85 1h1m26 0h3m2 0h1m1 0h3m8 0h1m32 0h1m5 0h1m-85 1h1m3 0h1m20 0h2m5 0h1m4 0h2m7 0h1m13 0h1m17 0h1m3 0h1m-83 1h1m2 0h1m20 0h1m11 0h1m2 0h1m6 0h1m12 0h1m21 0h2m3 0h1m-87 1h1m22 0h1m16 0h1m6 0h1m32 0h2m1 0h1m-84 1h1m21 0h1m18 0h1m5 0h1m32 0h1m2 0h2m-85 1h1m22 0h1m16 0h1m6 0h1m35 0h1m-84 1h1m45 0h2m35 0h1m-84 1h1m44 0h2m36 0h1m-84 1h1m43 0h2m37 0h1m-84 1h1m3 0h1m38 0h2m15 0h1m22 0h1m-84 1h1m2 0h1m38 0h2m15 0h1m23 0h1m-90 1h1m5 0h1m31 0h1m8 0h2m40 0h1m-84 1h1m39 0h2m41 0h1m-92 1h2m6 0h1m38 0h2m42 0h1m-93 1h1m8 0h1m37 0h2m43 0h1m-93 1h1m8 0h1m27 0h11m44 0h1m-93 1h1m8 0h1m82 0h1m-93 1h1m8 0h1m3 0h1m55 0h1m22 0h1m-84 1h1m2 0h1m55 0h1m23 0h1m-84 1h1m82 0h1m-86 1h3m66 0h2m14 0h1m-87 1h1m2 0h1m63 0h2m17 0h1m-97 1h2m1 0h7m1 0h3m66 0h2m2 0h2m10 0h1m-97 1h1m10 0h3m66 0h2m1 0h1m2 0h1m9 0h1m-96 1h1m1 0h7m3 0h1m71 0h1m10 0h1m-96 1h1m1 0h7m3 0h1m3 0h1m55 0h1m9 0h1m12 0h1m-84 1h1m2 0h1m55 0h1m23 0h1M12 85h8m9 0h1m2 0h1m69 0h1m3 0h2m7 0h1M11 86h1m18 0h3m71 0h1m10 0h1M10 87h1m9 0h1m1 0h7m1 0h3m67 0h1m3 0h1m-95 1h1m2 0h6m1 0h1m1 0h7m1 0h3m67 0h1m5 0h8M10 89h1m2 0h1m16 0h3m67 0h1m5 0h2m-98 1h1m2 0h1m1 0h4m13 0h1m-23 1h1m2 0h1m1 0h1m16 0h1m3 0h1m55 0h1m-83 1h1m2 0h1m1 0h1m16 0h1m2 0h1m55 0h1m-82 1h2m3 0h1m4 0h1m1 0h7m3 0h1m-1 1h1m-3 1h3m-1 1h1m-1 1h1m-1 1h1m-1 1h1m3 0h1m55 0h1m-61 1h1m2 0h1m55 0h1m22 0h1m-83 1h1m81 0h1m-83 1h1m81 0h1m-83 1h1m81 0h1m-83 1h1m81 0h1m-83 1h1m38 0h11m32 0h1m-83 1h1m15 0h1m5 0h1m5 0h1m5 0h1m3 0h1m11 0h1m30 0h1m-82 1h1m3 0h1m11 0h2m4 0h2m4 0h2m4 0h2m2 0h1m11 0h2m8 0h1m15 0h1m1 0h1m1 0h1m-81 1h1m2 0h1m12 0h2m4 0h2m4 0h2m4 0h2m2 0h1m11 0h2m7 0h1m4 0h1m6 0h1m1 0h1m1 0h1m-76 1h1m12 0h5m1 0h5m1 0h5m1 0h5m3 0h13m-52 1h1m13 0h4m2 0h4m2 0h4m2 0h4m2 0h1m11 0h2m-52 1h1m6 0h1m30 0h1m11 0h2m4 0h1m-57 1h1m6 0h1m30 0h1m11 0h2m4 0h1m-57 1h1m37 0h14m-52 1h1m38 0h13m-52 1h1m3 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m-61 1h1m2 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m-60 1h1m-1 1h1m-1 1h1"]
          ["#f8f8e8" "M50 9h28m-29 1h1m25 0h1m-27 1h1m6 0h1m13 0h1m-22 1h1m4 0h2m12 0h2m-21 1h1m3 0h1m2 0h1m10 0h1m2 0h1m-22 1h1m-11 1h1m1 0h1m7 0h1m36 0h1m1 0h1m-50 1h1m1 0h2m6 0h1m35 0h2m1 0h1m-48 1h1m5 0h1m1 0h1m36 0h1m-38 1h1m13 0h1m49 0h1m-65 1h1m13 0h1m-15 1h1m12 0h2m-15 1h1m-1 1h1m-1 1h1m12 0h3m-16 1h1m-1 1h1m-1 1h1m1 0h1m23 0h1m-27 1h1m12 0h3m-31 5h60m-61 1h2m-2 1h1m1 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m-59 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m6 0h1m-8 1h1m22 0h24m7 0h1m-55 1h1m22 0h24m-47 1h1m22 0h24m-47 1h1m1 0h1m6 0h8m6 0h24m11 0h1m-59 1h1m8 0h1m13 0h24m-47 1h1m8 0h1m13 0h24m-47 1h1m8 0h1m13 0h24m-47 1h1m8 0h1m13 0h24m-47 1h1m8 0h1m-10 1h1m8 0h1m-10 1h1m-1 1h1m1 0h1m8 0h1m3 0h1m42 0h1m-59 1h1m77 0h2m-80 1h1m27 0h1m36 0h2m1 0h1m1 0h1m7 0h1m1 0h1m-81 1h1m24 0h1m52 0h1m-79 1h1m22 0h1m4 0h6m41 0h1m2 0h1m-79 1h1m20 0h1m3 0h12m41 0h1m-79 1h1m22 0h6m4 0h6m39 0h1m-79 1h1m20 0h5m3 0h2m1 0h1m3 0h5m37 0h1m1 0h1m-81 1h1m1 0h1m17 0h4m2 0h5m1 0h4m2 0h4m16 0h1m19 0h2m-80 1h1m19 0h3m1 0h11m1 0h2m1 0h3m-42 1h1m18 0h3m1 0h16m1 0h3m-43 1h1m18 0h2m1 0h18m1 0h2m-43 1h1m18 0h3m1 0h16m1 0h3m-43 1h1m19 0h22m-42 1h1m20 0h20m-41 1h1m21 0h7m4 0h7m-40 1h1m1 0h1m20 0h4m8 0h4m19 0h1m-59 1h1m23 0h2m10 0h2m-38 1h1m29 0h1m-40 1h1m8 0h1m-1 1h1m-10 1h1m8 0h1m-10 1h1m8 0h1m-10 1h1m8 0h1m-10 1h1m8 0h1m1 0h1m55 0h1m-59 1h1m-10 1h1m8 0h1m-10 1h1m8 0h1m-10 1h1m8 0h1m-1 1h1m-1 1h1m-1 1h1m-4 1h2m1 0h1m1 0h1m55 0h1m6 0h3m-68 1h1m69 0h2m-85 1h1m1 0h7m4 0h1m-1 1h1m-21 1h6m14 0h1m-22 1h1m20 0h1m-22 1h1m20 0h1m-22 1h1m20 0h1m-22 1h1m20 0h1m1 0h1m55 0h1m-80 1h1m20 0h1m-1 1h1m-1 1h1m-1 1h1m77 0h7m-85 1h1m77 0h1m-79 1h1m77 0h1m-79 1h1m77 0h1m-79 1h1m1 0h1m55 0h1m19 0h1m-79 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m11 0h2m4 0h2m4 0h2m4 0h2m6 0h10m-48 1h1m1 0h1m9 0h2m4 0h2m4 0h2m4 0h2m6 0h1m19 0h1m-59 1h1m-1 1h1m-1 1h1m37 0h10m-48 1h1m6 0h1m30 0h1m15 0h1m-55 1h1m-1 1h1m-1 1h1m-1 1h1m1 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m-59 1h1m-1 1h1"]
          ["#c8c8c0" "M51 10h1m1 0h3m4 0h10m4 0h1m-22 1h1m3 0h1m3 0h7m3 0h1m-21 1h2m9 0h5m9 0h1m11 0h1m-50 1h1m11 0h1m11 0h3m22 0h1m-50 1h1m1 0h1m9 0h1m1 0h1m9 0h3m1 0h1m18 0h1m1 0h1m-49 1h1m1 0h1m8 0h1m1 0h1m9 0h3m1 0h1m17 0h1m1 0h1m1 0h1m-47 1h1m7 0h2m12 0h2m17 0h1m-46 1h1m2 0h2m7 0h3m12 0h2m14 0h1m2 0h1m2 0h1m-50 1h1m1 0h2m8 0h5m11 0h3m6 0h1m9 0h1m1 0h1m17 0h1m3 0h3m1 0h2m6 0h1m-82 1h1m9 0h10m1 0h1m5 0h9m30 0h2m8 0h2m2 0h1m-71 1h9m1 0h1m7 0h8m31 0h2m6 0h2m2 0h1m-70 1h9m9 0h8m32 0h2m5 0h1m2 0h1m-69 1h6m16 0h4m33 0h2m3 0h1m2 0h1m-68 1h5m3 0h3m3 0h2m7 0h3m34 0h2m4 0h1m-67 1h6m17 0h3m35 0h3m1 0h1m-66 1h6m17 0h3m35 0h1m3 0h1m-64 1h4m17 0h1m37 0h1m3 0h1m-58 1h3m3 0h2m45 0h1m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-84 1h1m78 0h1m3 0h1m-81 1h57m19 0h1m3 0h1m-80 1h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m21 0h1m3 0h1m-80 1h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m21 0h1m3 0h1m-82 1h58m19 0h1m3 0h1m-82 1h58m19 0h1m3 0h1m-82 1h3m3 0h52m19 0h1m3 0h1m-82 1h3m4 0h13m26 0h6m3 0h3m19 0h1m3 0h1m-82 1h3m2 0h1m1 0h13m26 0h5m4 0h3m19 0h1m3 0h1m-82 1h3m3 0h14m26 0h5m1 0h1m2 0h3m19 0h1m3 0h1m-82 1h20m26 0h6m3 0h3m19 0h1m3 0h1m-80 1h5m10 0h3m26 0h10m21 0h1m3 0h1m-80 1h5m1 0h7m3 0h2m26 0h10m21 0h1m3 0h1m-82 1h7m1 0h7m4 0h1m26 0h12m19 0h1m3 0h1m-82 1h7m1 0h7m4 0h1m26 0h12m19 0h1m3 0h1m-82 1h7m1 0h7m4 0h1m26 0h12m19 0h1m3 0h1m-82 1h7m1 0h7m4 0h1m26 0h12m19 0h1m3 0h1m-82 1h7m1 0h7m4 0h39m5 0h2m1 0h1m1 0h1m8 0h1m3 0h1m-82 1h7m2 0h1m1 0h1m1 0h1m5 0h39m20 0h1m-77 1h5m12 0h37m7 0h2m1 0h1m1 0h1m6 0h1m3 0h1m-78 1h6m11 0h7m6 0h24m7 0h2m1 0h1m1 0h1m12 0h2m-83 1h8m9 0h6m14 0h21m19 0h1m2 0h1m-81 1h9m7 0h5m18 0h19m5 0h2m1 0h1m1 0h1m8 0h2m1 0h1m-81 1h19m21 0h18m14 0h1m4 0h2m1 0h1m-81 1h18m23 0h17m15 0h1m3 0h2m1 0h1m-81 1h17m25 0h16m19 0h2m1 0h1m-81 1h16m27 0h15m19 0h1m2 0h1m-79 1h13m29 0h12m25 0h2m-81 1h13m29 0h12m19 0h1m-76 1h14m31 0h13m21 0h1m-80 1h14m31 0h13m20 0h2m-80 1h14m31 0h13m19 0h2m2 0h1m-82 1h15m30 0h13m19 0h1m3 0h1m-82 1h16m28 0h14m19 0h1m3 0h1m-82 1h17m26 0h15m19 0h1m3 0h1m-80 1h16m24 0h14m21 0h1m3 0h1m-80 1h17m22 0h15m21 0h1m3 0h1m-93 1h2m9 0h20m20 0h18m19 0h1m3 0h1m-94 1h1m11 0h21m7 0h1m10 0h19m19 0h1m3 0h1m-94 1h1m11 0h22m16 0h20m19 0h1m3 0h1m-82 1h23m14 0h21m19 0h1m3 0h1m-82 1h25m11 0h22m19 0h1m3 0h1m-82 1h58m19 0h1m3 0h1m-80 1h54m21 0h1m3 0h1m-94 1h1m13 0h54m21 0h1m3 0h1m-94 1h1m11 0h58m19 0h1m3 0h1m-94 1h1m11 0h58m19 0h1m3 0h1m-94 1h1m7 0h1m3 0h58m6 0h2m11 0h1m3 0h1m-82 1h58m19 0h1m3 0h1m-95 1h7m6 0h58m10 0h2m7 0h1m3 0h1m-87 1h2m3 0h58m6 0h2m11 0h1m3 0h1m-80 1h54m5 0h2m5 0h2m7 0h1m3 0h1m-97 1h1m1 0h7m1 0h2m5 0h54m8 0h2m1 0h1m8 0h2m3 0h1m-82 1h58m6 0h2m2 0h2m3 0h4m4 0h1M12 86h7m1 0h1m1 0h7m6 0h58m6 0h2m15 0h1M11 87h2m22 0h58m22 0h1M11 88h1m23 0h58m21 0h2M11 89h1m23 0h58m15 0h6M11 90h1m23 0h58m-82 1h1m25 0h54m-80 1h1m25 0h54m-79 1h1m22 0h58m-58 1h58m-58 1h58m-58 1h58m19 0h5m-82 1h58m19 0h1m3 0h1m-82 1h58m19 0h1m3 0h1m-80 1h54m21 0h2m1 0h2m-80 1h54m-56 1h58m-58 1h58m-58 1h58m-58 1h58m-58 1h9m4 0h2m4 0h2m4 0h2m4 0h5m11 0h11m-58 1h9m5 0h1m5 0h1m5 0h1m5 0h3m13 0h10m-56 1h7m24 0h2m2 0h9m3 0h7m-54 1h7m24 0h2m14 0h7m-56 1h10m5 0h1m5 0h1m5 0h1m5 0h3m13 0h9m-58 1h3m3 0h5m4 0h2m4 0h2m4 0h2m4 0h2m14 0h3m3 0h3m-58 1h3m4 0h28m2 0h9m3 0h2m4 0h3m-58 1h3m2 0h1m1 0h28m14 0h2m1 0h1m2 0h3m-58 1h3m3 0h29m14 0h3m3 0h3m-58 1h36m13 0h9m-56 1h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m-54 1h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m2 0h6m-58 2h1"]
          ["#686850" "M78 10h1m-27 1h1m5 0h2m12 0h2m2 0h1m1 0h1m-39 1h1m37 0h1m8 0h1m1 0h1m-50 1h1m16 0h1m1 0h1m11 0h1m1 0h1m4 0h1m8 0h1m1 0h1m-35 1h4m1 0h1m8 0h4m1 0h1m3 0h1m5 0h1m-31 1h1m1 0h2m1 0h2m9 0h2m1 0h2m3 0h1m4 0h1m-39 1h1m12 0h2m1 0h1m10 0h2m1 0h1m2 0h1m1 0h4m-44 1h1m4 0h1m11 0h2m1 0h1m3 0h1m6 0h2m1 0h1m3 0h1m1 0h1m2 0h1m3 0h1m1 0h1m-50 1h1m3 0h1m1 0h2m16 0h1m13 0h1m1 0h2m1 0h1m3 0h1m1 0h1m-50 1h1m2 0h2m19 0h2m12 0h1m4 0h2m2 0h1m1 0h1m-50 1h1m1 0h2m21 0h2m11 0h1m5 0h2m1 0h1m1 0h1m-50 1h3m17 0h8m10 0h1m6 0h5m-52 1h4m15 0h14m7 0h1m7 0h4m-52 1h3m15 0h1m1 0h1m9 0h4m6 0h1m8 0h3m-12 1h1m-1 1h1m-1 1h1m-27 1h1m3 0h1m1 0h1m9 0h4m4 0h1m1 0h1m-29 1h7m14 0h7m-29 1h1m13 1h1m31 2h1m-2 1h1m-1 1h1m-59 1h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m1 0h1m-1 1h1m-1 1h1m-56 1h2m53 0h1m-54 1h1m45 0h2m5 0h1m-54 1h1m44 0h1m7 0h1m-56 1h2m45 0h1m7 0h1m-8 1h2m5 0h1m-44 1h1m42 0h1m-59 1h1m14 0h1m40 0h1m1 0h1m-44 1h1m42 0h1m-44 1h1m42 0h1m-44 1h1m42 0h1m-44 1h1m42 0h1m1 0h1m-46 1h1m42 0h1m5 0h1m1 0h1m8 0h1m5 0h1m-75 1h1m1 0h1m1 0h1m1 0h1m1 0h1m42 0h1m1 0h1m7 0h1m5 0h1m7 0h1m-77 1h2m1 0h3m1 0h3m42 0h1m1 0h1m7 0h1m6 0h2m3 0h2m-82 1h1m6 0h1m1 0h3m1 0h1m11 0h6m25 0h1m1 0h1m1 0h1m7 0h1m8 0h1m1 0h1m2 0h1m-76 1h3m1 0h3m8 0h3m6 0h3m24 0h1m1 0h1m7 0h1m13 0h1m-63 1h2m3 0h6m3 0h2m22 0h1m1 0h1m7 0h5m9 0h1m-65 1h2m2 0h3m6 0h3m2 0h2m20 0h1m1 0h1m7 0h2m12 0h1m-66 1h1m2 0h2m12 0h2m2 0h1m19 0h1m1 0h1m7 0h1m13 0h1m-67 1h1m1 0h2m16 0h2m1 0h1m18 0h1m1 0h4m1 0h1m1 0h2m1 0h3m9 0h1m-68 1h1m1 0h1m20 0h1m1 0h1m17 0h1m4 0h1m4 0h1m13 0h1m-69 1h1m1 0h1m22 0h1m1 0h1m16 0h1m4 0h1m4 0h1m8 0h1m1 0h1m2 0h1m-83 1h1m13 0h1m1 0h1m22 0h1m1 0h1m14 0h1m1 0h1m1 0h4m1 0h1m1 0h2m6 0h2m2 0h3m-69 1h1m1 0h1m24 0h1m1 0h1m15 0h1m1 0h1m7 0h1m5 0h1m5 0h1m1 0h1m-70 1h1m1 0h1m24 0h1m1 0h1m15 0h1m1 0h4m1 0h1m1 0h2m6 0h1m5 0h1m-69 1h1m1 0h1m24 0h1m1 0h1m15 0h1m1 0h4m1 0h1m1 0h1m-54 1h1m1 0h1m22 0h1m1 0h1m16 0h1m-44 1h1m1 0h1m20 0h1m1 0h1m17 0h1m-43 1h1m1 0h1m7 0h4m7 0h1m1 0h1m18 0h1m-42 1h1m1 0h1m4 0h2m4 0h2m4 0h1m1 0h1m19 0h1m-59 1h1m17 0h1m1 0h1m2 0h1m8 0h1m2 0h1m1 0h1m18 0h1m1 0h1m-40 1h1m1 0h2m10 0h2m1 0h1m21 0h1m-68 1h1m28 0h1m7 0h1m6 0h1m22 0h1m-68 1h1m29 0h1m12 0h1m23 0h1m-69 1h2m30 0h12m24 0h1m-69 1h2m66 0h1m-69 1h2m66 0h1m-69 1h2m66 0h1m-71 1h2m1 0h1m8 0h1m55 0h1m1 0h1m-68 1h1m66 0h1m-68 1h1m66 0h1m1 0h2m-71 1h1m66 0h1m6 0h1m-73 1h1m64 0h1m1 0h2m4 0h1m-82 1h1m7 0h1m64 0h1m1 0h2m3 0h1m-83 1h1m1 0h1m7 0h1m64 0h1m7 0h1m2 0h1m-87 1h1m1 0h1m7 0h1m64 0h1m10 0h1m-87 1h1m1 0h1m7 0h1m6 0h1m55 0h1m1 0h1m1 0h1m4 0h1m3 0h1m-85 1h1m72 0h1m1 0h1m4 0h1m3 0h1m-87 1h1m1 0h1m7 0h1m64 0h1m1 0h1m5 0h1m2 0h1m-87 1h1m1 0h1m7 0h1m64 0h1m1 0h2m4 0h1m2 0h1m-87 1h1m1 0h1m7 0h1m64 0h1m1 0h2m4 0h4m-92 1h7m1 0h7m65 0h1m1 0h2m7 0h1m-92 1h1m4 0h2m9 0h2m62 0h1m10 0h1m-92 1h1m4 0h2m1 0h7m65 0h1m7 0h3m-91 1h1m4 0h2m1 0h7m7 0h1m55 0h1m1 0h1m7 0h3m-92 1h2m4 0h1m1 0h1m8 0h2m62 0h1m7 0h1m-84 1h13m62 0h1m1 0h5m1 0h4m-87 1h2m1 0h8m64 0h1m1 0h1m5 0h3m-76 1h3m62 0h1m1 0h6m15 0h1m-88 1h2m62 0h1m1 0h5m16 0h1m-24 1h1m19 0h1m2 0h1m-24 1h1m19 0h1m2 0h1m-82 1h1m55 0h1m1 0h1m16 0h3m1 0h2m-23 1h1m-1 1h1m-1 1h1m-1 1h1m-51 1h4m2 0h4m2 0h4m2 0h4m28 0h1m-51 1h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m15 0h1m12 0h1m-51 1h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m2 0h1m15 0h1m12 0h1m1 0h2m11 0h1m1 0h1m-76 1h1m7 0h4m2 0h4m2 0h4m2 0h4m5 0h11m10 0h1m1 0h1m2 0h1m3 0h2m1 0h1m1 0h1m-13 1h1m1 0h2m2 0h1m-62 1h2m40 0h1m5 0h2m5 0h1m2 0h1m-57 1h1m39 0h1m4 0h1m7 0h1m1 0h2m-57 1h1m29 0h11m4 0h1m7 0h1m-56 1h2m46 0h2m5 0h1m-1 1h1m-84 1h5m78 0h1m-80 1h2m19 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m7 0h1m1 0h1m-2 1h2m-61 1h60m-61 1h1"]
          ["gray" "M53 16h1m13 0h1m-14 1h2m12 0h2m11 0h1m0 1h1m1 0h1m0 1h1m0 1h1m1 0h1m20 31h1m9 0h1m-11 1h1m9 0h1m-11 1h1m7 0h1m1 0h1m-11 1h1m7 0h1m1 0h1m-11 1h1m7 0h1m1 0h1m-23 1h3m1 0h1m1 0h1m5 0h1m7 0h1m1 0h1m-11 1h1m7 0h1m1 0h1m-11 1h1m7 0h1m1 0h1m-11 1h1m9 0h1m-11 1h1m9 0h1m-23 1h3m1 0h1m1 0h1m-6 19h1m-1 1h1m-3 1h2m5 0h1m-7 2h1m-1 1h1m-1 1h1m5 0h1m-6 1h2m3 0h1m10 0h1m-17 1h2m-2 1h2m3 4h2m-8 2h4m-91 19h6m0 1h1m79 1h30m-30 1h30m-30 1h30"]
          ["#f0f0f0" "M109 19h8m-7 1h6m-5 1h5m-4 1h3m-2 3h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-1 1h1m-1 13h1m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-9 1h9m-9 1h8"]
          ["#f0f8e0" "M2 21h1m-1 1h3m-3 1h5m-5 1h7m-7 1h9m-9 1h11M2 27h13M2 28h15M2 29h17M2 30h19M2 31h21M2 32h23M2 33h25M2 34h27M2 35h29M2 36h30M2 37h30M2 38h30M2 39h30M2 40h30M2 41h30M2 42h30M2 43h30M2 44h30M2 45h30M2 46h30M2 47h30M2 48h30M2 49h30M2 50h30M2 51h30M2 52h30M2 53h30M2 54h30m27 0h2M2 55h30m25 0h1M2 56h30m23 0h1M2 57h30m21 0h1M2 58h30m20 0h1M2 59h30M2 60h30M2 61h30M2 62h30M2 63h30M2 64h30M2 65h30M2 66h30M2 67h30M2 68h30m64 0h1M2 69h22m3 0h5m64 0h3M2 70h21m5 0h4m64 0h5M2 71h21m5 0h4m64 0h7M2 72h21m5 0h4m64 0h9M2 73h21m5 0h4m64 0h11M2 74h21m5 0h4m64 0h13M2 75h21m5 0h4m64 0h15M2 76h21m5 0h4m64 0h16M2 77h21m5 0h4m64 0h16M2 78h21m5 0h2m71 0h11M2 79h21m5 0h1m73 0h10m5 0h2M2 80h17m2 0h1m83 0h7m5 0h4M2 81h17m87 0h6m5 0h6M2 82h17m87 0h6m5 0h8M2 83h17m87 0h6m5 0h9M2 84h17m87 0h5m6 0h9M2 85h10m105 0h9M2 86h9m106 0h9M2 87h8m106 0h10M2 88h8m106 0h10M2 89h8m104 0h12M2 90h8m96 0h20M2 91h8m6 0h3m87 0h20M2 92h8m6 0h3m87 0h20M2 93h8m6 0h3m87 0h20M2 94h17m87 0h20M2 95h17m2 0h1m83 0h6m8 0h7M2 96h27m73 0h9m8 0h7M2 97h28m71 0h10m8 0h7M2 98h30m64 0h15m8 0h7M2 99h30m64 0h15m8 0h7M2 100h30m64 0h15m8 0h7M2 101h30m64 0h15m8 0h7M2 102h30m64 0h18m1 0h11M2 103h30m64 0h18m1 0h11"]
          ["#a0a880" "M93 33h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-41 1h1m39 0h1m-41 1h1m39 0h1m-42 1h1m40 0h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m4 0h1m-6 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m2 0h30m-33 1h1m2 0h30m-33 1h1m-60 1h59m3 2h30m-90 1h90"]
          ["#f828f8" "M25 70h2m-2 2h1m-1 1h1m-1 1h1m-1 1h1m-1 3h2m-2 1h2"]
          ["#a870d0" "M25 77h2"]
          ["#f8f8f8" "M30 79h1m-11 2h1"]
          ["#b0b890" "M98 79h1m-1 3h1m-1 2h1m-1 1h1m-1 1h1m19 10h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-7 1h2m1 0h4m-23 11h30m-30 1h30m-93 7h3m0 1h90m-87 1h87"]
          ["#c8d0a8" "M118 95h1m-8 6h1M2 104h30m64 0h18m1 0h11M2 105h30m64 0h18m1 0h11M2 106h30m64 0h17m1 0h12M2 107h30m66 0h10m5 0h13M2 108h30m66 0h3m7 0h18M2 109h30m69 0h25M2 110h30m66 0h28M2 111h30m66 0h28M2 112h30m-30 1h30m-30 1h8m6 0h16m-30 1h7m8 0h15m-30 1h7m8 0h15m-30 1h8m6 0h16m-30 1h30m-30 1h30m-30 1h31m-31 1h34m-34 1h37m-37 1h124M2 124h124M2 125h124"]]
   :crown1 [["#e0e8c0" "M5 0h1M3 1h6M3 2h2"]
            ["#a8a890" "M6 0h3M9 1h2M2 2h1M11 2h1M12 3h1M12 4h1M0 5h1M4 5h3"]
            ["#f8f8e8" "M5 2h4M3 3h7M3 4h7"]
            ["#c8c8c0" "M9 2h2M1 3h2M10 3h2M1 4h2M10 4h2"]
            ["#686850" "M1 5h1M9 5h2M13 5h1"]
            ["#808080" "M2 5h2M7 5h2"]
            ["#000000" "M11 5h2"]]
   :crown2 [["#e0e8c0" "M4 0h2M3 1h3M3 2h2"]
            ["#a8a890" "M6 0h3M9 1h2M2 2h1M11 2h1M12 3h1M12 4h1M0 5h1M4 5h3"]
            ["#f8f800" "M6 1h3M5 2h1M9 2h1M4 3h1M10 3h1M4 4h1M10 4h1"]
            ["#00f8f8" "M6 2h3M5 3h2M8 3h2M5 4h2M8 4h2"]
            ["#c8c8c0" "M10 2h1M1 3h2M11 3h1M1 4h2M11 4h1"]
            ["#f8f8e8" "M3 3h1M3 4h1"]
            ["#f800d8" "M7 3h1M7 4h1"]
            ["#686850" "M1 5h1M9 5h2M13 5h1"]
            ["#808080" "M2 5h2M7 5h2"]
            ["#000000" "M11 5h2"]]
   :crown3 [["#e0e8c0" "M4 0h2M3 1h3M3 2h2"]
            ["#a8a890" "M6 0h3M9 1h2M2 2h1M11 2h1M12 3h1M12 4h1M0 5h1M4 5h3"]
            ["#f8f800" "M6 1h3M5 2h1M9 2h1M4 3h1M7 3h1M10 3h1M4 4h1M7 4h1M10 4h1"]
            ["#f800d8" "M6 2h3M5 3h2M8 3h2M5 4h2M8 4h2"]
            ["#c8c8c0" "M10 2h1M1 3h2M11 3h1M1 4h2M11 4h1"]
            ["#f8f8e8" "M3 3h1M3 4h1"]
            ["#686850" "M1 5h1M9 5h2M13 5h1"]
            ["#808080" "M2 5h2M7 5h2"]
            ["#000000" "M11 5h2"]]})

(defn sharp-symbol [x y scale]
   [:path {:transform (str "scale(" scale ") translate(" x "," y ")")
           :stroke "black"
           :d "M15 46C15 47 14 47 13 47 13 47 12 47 12 46V37L7 39V49C7 49 6 50 6 50 5 50 5 49 5 49V40L3 40C3 40 2 40 2 40 2 40 1 40 1 39V35C1 35 1 34 2 34L5 33V23L3 24C3 24 2 24 2 24 2 24 1 23 1 23V19C1 19 1 18 2 18L5 17V7C5 6 5 6 6 6 6 6 7 6 7 7V16L12 14V4C12 4 13 3 13 3 14 3 15 4 15 4V13L17 13C17 12 17 12 17 12 18 12 18 13 18 14V17C18 18 18 18 17 19L15 20V30L17 29C17 29 17 29 17 29 18 29 18 29 18 30V34C18 34 18 35 17 35L15 36V46ZM7 22V32L12 31V21Z"}])

(defn sharp-button [x y scale]
  (let [sharp? (subscribe [:sharp?])]
    (fn [x y scale]
      (svg-paths {:on-click #(do (dispatch [:sharp-toggle])
                                 (music/play-sample 17 63))}
                 (if @sharp? 
                   [["#f8f8f8" "M0 0h5M7 0h1M10 0h5M0 1h5M7 1h1M10 1h5M0 2h5M7 2h1M10 2h5M0 3h5M11 3h4M0 4h5M11 4h4M0 5h4M10 5h5M0 6h4M10 6h5M0 7h4M7 7h1M10 7h5M0 8h5M7 8h1M10 8h5M0 9h5M7 9h1M11 9h4M0 10h5M11 10h4M0 11h4M11 11h4M0 12h4M10 12h5M0 13h4M7 13h1M10 13h5M0 14h5M7 14h1M10 14h5M0 15h5M7 15h1M10 15h5M0 16h5M7 16h1M9 16h6"]
                    ["#f8e8b8" "M5 0h2M9 0h1M6 1h1M9 1h1M6 2h1M9 2h1M6 3h2M7 6h1M9 6h1M4 7h1M6 7h1M9 7h1M6 8h1M9 8h1M6 9h1M9 13h1M6 14h1M9 14h1M6 15h1M9 15h1M6 16h1M8 16h1"]
                    ["#000001" "M8 0h1M5 1h1M8 1h1M5 2h1M8 2h1M5 3h1M8 3h3M5 4h6M4 5h5M4 6h2M8 6h1M5 7h1M8 7h1M5 8h1M8 8h1M5 9h1M8 9h3M5 10h6M5 11h5M4 12h5M4 13h2M8 13h1M5 14h1M8 14h1M5 15h1M8 15h1M5 16h1"]
                    ["#d09048" "M9 5h1M6 6h1M4 11h1M10 11h1M9 12h1M6 13h1"]]
                   [["#808081" "M0 0h8M9 0h6M0 1h5M6 1h2M9 1h6M0 2h5M6 2h2M9 2h6M0 3h5M6 3h2M11 3h4M0 4h5M11 4h4M0 5h4M9 5h6M0 6h4M6 6h2M9 6h6M0 7h5M6 7h2M9 7h6M0 8h5M6 8h2M9 8h6M0 9h5M6 9h2M11 9h4M0 10h5M11 10h4M0 11h5M10 11h5M0 12h4M9 12h6M0 13h4M6 13h2M9 13h6M0 14h5M6 14h2M9 14h6M0 15h5M6 15h2M9 15h6M0 16h5M6 16h9"]
                    ["#000001" "M8 0h1M5 1h1M8 1h1M5 2h1M8 2h1M5 3h1M8 3h3M5 4h6M4 5h5M4 6h2M8 6h1M5 7h1M8 7h1M5 8h1M8 8h1M5 9h1M8 9h3M5 10h6M5 11h5M4 12h5M4 13h2M8 13h1M5 14h1M8 14h1M5 15h1M8 15h1M5 16h1"]])
                 x y scale))))

(defn repeat-sign [x y scale]
  [:path {:transform (str "translate(" x "," y ") scale(" (* scale 1.5) "," scale ")")
          :pointer-events "none"
          :stroke "black"
          :d "M5 0h1M9 0h4M5 1h1M9 1h4M5 2h1M9 2h4M5 3h1M9 3h4M5 4h1M9 4h4M5 5h1M9 5h4M5 6h1M9 6h4M5 7h1M9 7h4M5 8h1M9 8h4M5 9h1M9 9h4M5 10h1M9 10h4M5 11h1M9 11h4M5 12h1M9 12h4M5 13h1M9 13h4M5 14h1M9 14h4M5 15h1M9 15h4M5 16h1M9 16h4M5 17h1M9 17h4M5 18h1M9 18h4M5 19h1M9 19h4M5 20h1M9 20h4M5 21h1M9 21h4M0 22h2M5 22h1M9 22h4M0 23h2M5 23h1M9 23h4M5 24h1M9 24h4M5 25h1M9 25h4M5 26h1M9 26h4M5 27h1M9 27h4M5 28h1M9 28h4M5 29h1M9 29h4M5 30h1M9 30h4M5 31h1M9 31h4M5 32h1M9 32h4M5 33h1M9 33h4M5 34h1M9 34h4M5 35h1M9 35h4M5 36h1M9 36h4M5 37h1M9 37h4M0 38h2M5 38h1M9 38h4M0 39h2M5 39h1M9 39h4M5 40h1M9 40h4M5 41h1M9 41h4M5 42h1M9 42h4M5 43h1M9 43h4M5 44h1M9 44h4M5 45h1M9 45h4M5 46h1M9 46h4M5 47h1M9 47h4M5 48h1M9 48h4M5 49h1M9 49h4M5 50h1M9 50h4M5 51h1M9 51h4M5 52h1M9 52h4M5 53h1M9 53h4M5 54h1M9 54h4M5 55h1M9 55h4M5 56h1M9 56h4M5 57h1M9 57h4M5 58h1M9 58h4M5 59h1M9 59h4M5 60h1M9 60h4M5 61h1M9 61h4"}])

(defn toolbar [x y]
  [:svg {:view-box "0 -0.5 140 10.5" :shape-rendering "crispEdges"
         :style {:cursor "url(/images/hand.png),crosshair"}}
   [:rect {:x x :y y :width 68 :height 10 :stroke "black" :stroke-width 0.2 :fill "#f8b0f8"}]
   [undo-dog 28.5 (+ 0.5 y) 0.5]
   [redo-rabbit 35.2 (+ 0.48 y) 0.45]
   [repeat-button 176 (+ 3 y) 0.5]
   [eraser 192 (+ 2 y) 0.5]
   [sharp-button 210 (+ 2 y) 0.5]
   (svg-paths {:on-click #(dispatch [:load-castle])} ghost 476 (+ 6 y) 0.24)
   (svg-paths {:on-click #(dispatch [:load-zelda])} zelda 490 (+ 4.5 y) 0.25)
   (svg-paths {:on-click #(dispatch [:load-megaman])} megaman 367 (- y 2) 0.35)])

(defn current-note-display [x y scale]
  (let [current-note (subscribe [:instrument])]
    (fn [x y scale]
      [:g 
       (svg-paths [["#000000" "M0 0h22M0 1h1M2 1h1M19 1h1M21 1h1M0 2h3M19 2h3M0 3h3M19 3h3M0 4h1M2 4h1M19 4h1M21 4h1M0 5h3M19 5h3M0 6h3M19 6h3M0 7h1M2 7h1M19 7h1M21 7h1M0 8h3M19 8h3M0 9h3M19 9h3M0 10h1M2 10h1M19 10h1M21 10h1M0 11h3M19 11h3M0 12h3M19 12h3M0 13h1M2 13h1M19 13h1M21 13h1M0 14h3M19 14h3M0 15h22"]
                   ["#f8f8f8" "M1 1h1M3 1h16M20 1h1M3 2h16M3 3h16M1 4h1M3 4h16M20 4h1M3 5h16M3 6h16M1 7h1M3 7h16M20 7h1M3 8h16M3 9h16M1 10h1M3 10h16M20 10h1M3 11h16M3 12h16M1 13h1M3 13h16M20 13h1M3 14h16"]]
                  x y scale)
       (case @current-note
         1 [mario/mario-icon (- x 15) -1 0.18]
         2 [mario/shroom (+ x 15) 1 0.18]
         3 [mario/yoshi (+ x 15) 1 0.18]
         4 [mario/star  (+ x 15) 0 0.18]
         5 [mario/flower (+ x 15) 0 0.18]
         6 [mario/gb  (+ x 17) 0 0.18]
         7 [mario/dog  (+ x 15) 2 0.18]
         8 [mario/kitty (+ x 15)  2 0.18]
         9 [mario/pig  (+ x 15) 1 0.18]
         10 [mario/swan (+ x 16)  0 0.18]
         11 [mario/face (+ x 16)  0 0.18]
         12 [mario/plane (+ x 15) 4 0.18]
         13 [mario/boat (+ x 15)  4 0.18]
         14 [mario/car  (+ x 15) 4 0.18]
         15 [mario/heart (+ x 17) 4 0.18])])))

(defn block [instrument x]
  (into [:g {:transform (str "translate(" x "," 1 ")")
             :on-click #(do (dispatch [:select-instrument instrument])
                            (music/play-sample instrument 64))}]
        (for [[color path]
              [["#000000" "M1 0h14M0 1h2M14 1h2M0 2h1M15 2h1M0 3h1M15 3h1M0 4h1M15 4h1M0 5h1M15 5h1M0 6h1M15 6h1M0 7h1M15 7h1M0 8h1M15 8h1M0 9h1M15 9h1M0 10h1M15 10h1M0 11h1M15 11h1M0 12h1M15 12h1M0 13h1M15 13h1M0 14h2M14 14h2M1 15h14"]
               ["#ffffff" "M2 1h12M1 2h14M1 3h14M1 4h14M1 5h14M1 6h14M1 7h14M1 8h14M1 9h14M1 10h14M1 11h14M1 12h14M1 13h14M2 14h12"]]]
          [:path {:stroke color
                  :d path}])))

(defn note-blocks []
  [:g#notes {:transform "scale(0.2) translate(-50,-0.5)"}
   [:g 
    [block 1 128]
    [mario/mario-icon 133 0 0.8]]
   [:g
    [block 2 144]
    [mario/shroom 182 3 0.8]]
   [:g
    [block 3 160]
    [mario/yoshi 202 3 0.8]]
   [:g
    [block 4 176]
    [mario/star 222 3 0.8]]
   [:g
    [block 5 192]
    [mario/flower 242 3 0.8]]
   [:g
    [block 6 208]
    [mario/gb 264 3 0.8]]
   [:g
    [block 7 224]
    [mario/dog 282 4 0.8]]
   [:g
    [block 8 240]
    [mario/kitty 302 3 0.8]]
   [:g
    [block 9 256]
    [mario/pig 322 3 0.8]]
   [:g
    [block 10 272]
    [mario/swan 342 3 0.8]]
   [:g
    [block 11 288]
    [mario/face 372 3 0.78]]
   [:g
    [block 12 304]
    [mario/plane 382 6 0.8]]
   [:g
    [block 13 320]
    [mario/boat 402 4 0.8]]
   [:g
    [block 14 336]
    [mario/car 422 5 0.8]]
   [:g
    [block 15 352]
    [mario/heart 442 4 0.8]]])